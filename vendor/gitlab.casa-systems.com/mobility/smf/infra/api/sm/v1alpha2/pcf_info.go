/* Adapted from: nnrf-api version Sep, 2019
 * NRF NFDiscovery Service
 *
 * NRF NFDiscovery  Service
 *
 * API version: 1.0.0
 * Generated by: OpenAPI Generator (https://openapi-generator.tech)
 */

package v1alpha2

// PCF information configuration
//
//	 Purpose:
//	   SMF can support interaction with locally configurable PCF
//
//	 Data model:
//	   Please refer https://www.3gpp.org/ftp/Specs/archive/29_series/29.510/29510-g30.zip section 6.1.6.2.20 Type: PcfInfo, Refer to the description for each attribute below
//
//	 Usage:
//		  SMF provides configurable operator to select standby PCF
type PcfInfo struct {
	// Identity of the PCF group that is served by the PCF instance.
	// If not provided, the PCF instance does not pertain to any PCF group
	// Optional
	GroupId string `mapstructure:"groupId" json:"groupId,omitempty"`
	// DNNs supported by the PCF.
	// If not provided, the PCF can serve any DNN
	// Optional
	DnnList []string `mapstructure:"dnnList" json:"dnnList,omitempty"`
	// List of ranges of SUPIs that can be served by the PCF instance. If not provided, the PCF can serve any SUPI. Either the start and end attributes, or the pattern attribute, shall be present.
	// Optional
	SupiRanges []SupiRange `mapstructure:"supiRanges" json:"supiRanges,omitempty"`
	// This IE shall be present if the PCF supports Rx interface.
	// When present, this IE shall indicate the Diameter host of the Rx interface for the PCF
	// Optional
	RxDiamHost string `mapstructure:"rxDiamHost" json:"rxDiamHost,omitempty"`
	// This IE shall be present if the PCF supports Rx interface.
	// When present, this IE shall indicate the Diameter realm of the Rx interface for the PCF.
	// Optional
	RxDiamRealm string `mapstructure:"rxDiamRealm" json:"rxDiamRealm,omitempty"`
}

// PCF nf profile from NRF or local static configuration
//
//	 Purpose:
//	   SMF can support interaction with locally configurable PCF
//
//	 Data model:
//	   Refer to the description for each attribute below
//
//	 Usage:
//		  SMF provides configurable operator to select standby PCF
type PcfNfProfile struct {
	// PCF's Profile
	// Mandatory
	NfProfile NfProfile `mapstructure:"nfProfile" json:"nfProfile"`
	// This IE is used to select PCF
	// Mandatory
	PcfInfo PcfInfo `mapstructure:"pcfInfo" json:"pcfInfo"`
}

/* TS 23.501:
6.3.7	PCF discovery and selection
6.3.7.0	General principles
Clause 6.3.7.0 describes the underlying principles for PCF selection and discovery:
The SMF may utilize the NRF to discover the candidate PCF instance(s) for a PDU Session. In addition, PCF information may also be locally configured in the SMF. The SMF selects a PCF instance based on the available PCF instances obtained from the NRF or locally configured information in the SMF, depending on operator's policies.
The following factors may be considered at PCF discovery and selection for a PDU session:
a)	Local operator policies.
b)	Selected Data Network Name (DNN).
c)	S-NSSAI of the PDU Session.
d)	SUPI; the SMF selects a PCF instance based on the SUPI range the UE's SUPI belongs to or based on the results of a discovery procedure with NRF using the UE's SUPI as input for PCF discovery.
e)	PCF selected by the AMF for the UE.
f)	MA PDU Session capability of the PCF, for an MA PDU session.
g)	The PCF Group ID provided by the AMF to the SMF.
In the case of delegated discovery and selection in SCP, the SMF shall include the available factors in the first request.
Editor's note:	It still needs to be clarified which actual set of parameters the sentence above is referring to.
The selected PCF instance for serving the UE and the selected PCF instance for serving a PDU session of this UE may be the same or may be different.
In the following scenarios, information about the PCF instance that has been selected i.e. the PCF ID may be forwarded to another NF. If the NF service consumer performs discovery and selection, this NF may use this PCF instance. In the case of delegated discovery and selection, this NF may include PCF ID in the request and the SCP may use this information to select the associated PCF instance (discovery may still be needed depending on what level of information is sent by the AMF, e.g. the address of the PCF instance may not be present):
When NF service consumer performs discovery and selection, the following applies: */

// Deprecated
type PcfRuleDesc string

// Deprecated
const (
	PcfRule_Compare_SUPI         PcfRuleDesc = "SUPI"         //match SUPI range only
	PcfRule_Compare_DNN          PcfRuleDesc = "DNN"          //match DNN only
	PcfRule_Compare_SNSSAI       PcfRuleDesc = "SNSSAI"       //match SNSSAI only
	PcfRule_Compare_DNN_SNSSAI   PcfRuleDesc = "DNN_SNSSAI"   //match both DNN and SNSSAI
	PcfRule_Compare_AMF_PROVIDED PcfRuleDesc = "AMF_PROVIDED" //use AMF provided
	PcfRule_Compare_GROUP_ID     PcfRuleDesc = "GROUP_ID"     //match groupId
)

// Deprecated
type PcfSelectionPolicy struct {
	// List of PolicyMatchingRules
	SelectMode    PolicySelectMode     //policy selection mode
	MatchingRules []PolicyMatchingRule `mapstructure:"matchingRules" json:"matchingRules"`
}

// Access Network Charing Identifier
//
//	Purpose:
//	  This is Access Network Charing Identifier to be used by SMF in PostSmContext-Npcf_SMPolicyControl_Create operationï¼Œ
//	  During the PDU session establishment, the SMF may provide the access network charging identifier information within
//	  the "accNetChId" attribute. Within the AccNetChId data structure, the SMF shall include the "accNetChaIdValue"
//	  containing the Access Network Charging Identifier for the default QoS flow and the "sessionChScope" attribute set
//	  to true if the Access Network Charging Identifier is applied to the whole PDU session.
//
//	Data model:
//	  Please refer https://www.3gpp.org/ftp//Specs/archive/29_series/29.512/29512-g40.zip
//	  section Table 5.6.2.23: Definition of Type AccNetChId for details
//
//	Usage:
//	  Used as optional parameter "AccNetChId" in SlicePolicyProfile
type AccNetChId struct {
	//Contains a charging identifier, AccNetChaIdValue is CharingId \n
	//Mandatory.
	AccNetChaIdValue uint32 `mapstructure:"accNetChaIdValue" json:"accNetChaIdValue"`
	// Contains the identifier of the PCC rule(s) associated to the provided Access Network Charging Identifier. \n
	// Optional.
	RefPccRuleIds []string `mapstructure:"refPccRuleIds" json:"refPccRuleIds,omitempty"`
	// When it is included and set to true, indicates the Access Network Charging Identifier applies to the whole PDU Session. \n
	// Optional.
	SessionChScope *bool `mapstructure:"sessionChScope" json:"sessionChScope,omitempty"`
}
